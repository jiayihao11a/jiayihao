<!doctype html>
<html lang="zh-CH">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title></title>
<style>
       span {
            display: inline-block;
            margin: 10px 5px;
            padding: 0px 10px;
            height: 30px;
            line-height: 30px;
            background-color: red;
            cursor: pointer;
        }
 </style>
</head>

<body>
<input type="text" id="num">
     <button id="left-in">左侧入</button>
     <button id="right-in">右侧入</button>
     <button id="left-out">左侧出</button>
     <button id="right-out">右侧出</button>

     <div id="queue">
         
     </div>
<script type="text/javascript">
function leftIn(queue) {
       var num = document.getElementById("num").value;
       if(checkInput(num)) {
       var span = document.createElement("span")
        span.innerHTML = num;
 
        //动态生成的元素在元素生成的时候绑定事件或者利用事件委托，事件委托性能更好
        // span.onclick = function() {alert(this.innerHTML)};
        var spanList = queue.childNodes;
         queue.insertBefore(span,spanList[0]);
   }
 }
  function checkInput(num) {
     reg=/^[-+]?\d*$/; //整数的正则表达式
     if(num == "") {
         alert("输入不能为空！");
         return false;
    }else if(!reg.test(num)) {
         alert("只能输入整数！");
        return false;
     }else return true;
 }
 function leftOut(queue) {
     var childs = queue.childNodes;
     alert(childs[0].innerHTML);//先显示元素中的数值，因为NodeList具有时效性 
     queue.removeChild(childs[0]);
 }
 function emptyInput(input) {
     input.value = "";
 }

 function init() {

     var queue = document.getElementById("queue");
 
     document.getElementById("left-in").onclick = function() {
        leftIn(queue);
		emptyInput(input);
    }
	 document.getElementById("left-out").onclick = function() {
        leftOut(queue);
     };
	 
  document.getElementById("queue").onclick = function( e ) {
         e = e || window.event;
         var t = e.target || e.srcElement;  //t:目标对象
        var tagName = t.tagName;　//tagName标签名称
          if( tagName == 'SPAN' ) {
             queue.removeChild(t);　
          }
     }
}
init();
 </script>
</body>
</html>
